define("paygw_mpay24/confirmpayment",["exports","core/ajax","core/modal_factory","core/modal_events"],(function(_exports,_ajax,_modal_factory,_modal_events){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}
/**
   * mpay24 repository module to encapsulate all of the AJAX requests that can be sent for mpay24.
   *
   * @module     paygw_mpay24/confirmpayment
   * @copyright  2022 Georg Mai√üer <info@wunderbyte.at>
   * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0,_ajax=_interopRequireDefault(_ajax),_modal_factory=_interopRequireDefault(_modal_factory),_modal_events=_interopRequireDefault(_modal_events);_exports.init=(component,paymentarea,itemid,tid,token,customer,ischeckstatus)=>{_ajax.default.call([{methodname:"paygw_mpay24_create_transaction_complete",args:{component:component,paymentarea:paymentarea,itemid:itemid,tid:tid,token:token,customer:customer,ischeckstatus:ischeckstatus},done:function(data){!0!==data.success?require(["jquery"],(function($){require(["core/str"],(function(str){var localStrings=str.get_strings([{key:"error",component:"paygw_mpay24"},{key:"proceed",component:"paygw_mpay24"}]);$.when(localStrings).done((function(localizedEditStrings){_modal_factory.default.create({type:_modal_factory.default.types.CANCEL,title:localizedEditStrings[0],body:data.message,buttons:{cancel:localizedEditStrings[1]}}).then((function(modal){return modal.getRoot().on(_modal_events.default.cancel,(function(){location.href=data.url})),modal.show(),!0})).catch({})}))}))})):location.href=data.url},fail:function(ex){console.log("ex:"+ex)}}])}}));

//# sourceMappingURL=confirmpayment.min.js.map